version: "3.8" services: frontend: build: ./frontend ports: - "3000:80" depends_on: - backend backend: build: ./backend ports: - "8000:8000" environment: - DATABASE_URL=postgresql://read2rich:password@postgres:5432/read2rich - REDIS_URL=redis://redis:6379 - KAFKA_BROKERS=kafka:9092 - QDRANT_URL=http://qdrant:6333 depends_on: - postgres - redis - kafka - qdrant postgres: image: postgres:15 environment: - POSTGRES_DB=read2rich - POSTGRES_USER=read2rich - POSTGRES_PASSWORD=password volumes: - postgres_data:/var/lib/postgresql/data redis: image: redis:7-alpine kafka: image: bitnami/kafka:3.7 environment: - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181 - KAFKA_CFG_LISTENERS=PLAINTEXT://:9092 - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 depends_on: - zookeeper zookeeper: image: bitnami/zookeeper:3.9 environment: - ALLOW_ANONYMOUS_LOGIN=yes qdrant: image: qdrant/qdrant:latest volumes: - qdrant_data:/qdrant/storage volumes: postgres_data: qdrant_data:
